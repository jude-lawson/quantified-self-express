{"version":3,"sources":["../../src/services/RecipeService.js"],"names":["yummly_app_id","yummly_app_key","process","env","NODE_ENV","undefined","require","ENV","banana_search_yummly","onion_soup_search_yummly","RecipeService","food_name","parsedResponse","YUMMLY_APP_ID","YUMMLY_APP_KEY","response","json"],"mappings":";;;;;;;;AAAA;;;;;;;;;;AAEA,IAAIA,aAAJ;AACA,IAAIC,cAAJ;AACA,IAAIC,QAAQC,GAAR,CAAYC,QAAZ,KAAyB,MAAzB,IAAmCF,QAAQC,GAAR,CAAYC,QAAZ,KAAyBC,SAAhE,EAA2E;AACzEL,kBAAgBM,QAAQ,eAAR,EAAyBN,aAAzC;AACAC,mBAAkBK,QAAQ,eAAR,EAAyBL,cAA3C;AACD,CAHD,MAGO;AACLD,kBAAgBO,IAAI,eAAJ,CAAhB;AACAP,kBAAgBO,IAAI,gBAAJ,CAAhB;AACD;;AAED,IAAMC,uBAAuBF,QAAQ,+CAAR,CAA7B;AACA,IAAMG,2BAA2BH,QAAQ,mDAAR,CAAjC;;IAEMI,a;;;;;;;;0FACuBC,S;;;;;;sBACrBT,QAAQC,GAAR,CAAYC,QAAZ,KAAyB,MAAzB,IAAmCO,cAAc,Q;;;;;AAC/CC,8B,GAAiBJ,oB;;;;;sBACZN,QAAQC,GAAR,CAAYC,QAAZ,KAAyB,MAAzB,IAAmCO,cAAc,Y;;;;;AACtDC,8B,GAAiBH,wB;;;;;;uBAEA,4EAAsDT,iBAAiBE,QAAQC,GAAR,CAAYU,aAAnF,oBAA6GZ,kBAAkBC,QAAQC,GAAR,CAAYW,cAA3I,YAA+JH,SAA/J,C;;;AAAjBI,wB;;uBACuBA,SAASC,IAAT,E;;;AAAvBJ,8B;;;;uBAEOA,c;;;;;;;;;;;;;;;;;;;;;;;;kBAIFF,a","file":"RecipeService.js","sourcesContent":["import fetch from 'node-fetch';\n\nvar yummly_app_id;\nvar yummly_app_key;\nif (process.env.NODE_ENV === \"test\" || process.env.NODE_ENV === undefined) {\n  yummly_app_id = require('../../secrets').yummly_app_id;\n  yummly_app_key =  require('../../secrets').yummly_app_key;\n} else {\n  yummly_app_id = ENV['YUMMLY_APP_ID'];\n  yummly_app_id = ENV['YUMMLY_APP_KEY'];\n}\n\nconst banana_search_yummly = require('../../fixtures/for_tests/banana_search_yummly');\nconst onion_soup_search_yummly = require('../../fixtures/for_tests/onion_soup_search_yummly');\n\nclass RecipeService {\n  static async searchRecipes(food_name) {\n    if (process.env.NODE_ENV === 'test' && food_name === \"banana\") {\n      var parsedResponse = banana_search_yummly\n    } else if (process.env.NODE_ENV === \"test\" && food_name === \"onion+soup\") {\n      var parsedResponse = onion_soup_search_yummly\n    } else {\n      let response = await fetch(`http://api.yummly.com/v1/api/recipes?_app_id=${yummly_app_id || process.env.YUMMLY_APP_ID}&_app_key=${yummly_app_key || process.env.YUMMLY_APP_KEY}&q=${food_name}`)\n      var parsedResponse = await response.json();\n    }\n    return await parsedResponse;\n  }\n}\n\nexport default RecipeService;\n"]}